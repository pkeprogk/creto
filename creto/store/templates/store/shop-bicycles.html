{% extends 'store/base.html' %}
{% load static %}
{% block content %}

<!-- ================ HEADER-TITLE ================ -->
<section class="s-header-title">
    <div class="container">
        <h1>Shop</h1>
        <ul class="breadcrambs">
            <li><a href="{% url 'main-page' %}">HOME</a></li>
        </ul>
    </div>
</section>
<!-- ============== HEADER-TITLE END ============== -->

<!--===================== SHOP =====================-->
<section class="s-shop">
    <div class="container">
        <div class="shop-sidebar-btn btn"><span>filter</span></div>
        <div class="row">
            <div class="col-12 col-lg-3 shop-sidebar">
                <ul class="widgets wigets-shop">
                    <li class="widget wiget-shop-category">
                        <h5 class="title">Categories</h5>
                         <ul>
                            <li><a href="{% url 'shop-bicycles' %}">Bicycles</a></li>
                            <li><a href="{% url 'shop-accessories' %}">Accessories</a></li>
                            <li><a href="{% url 'shop-spare-parts' %}">Spare parts</a></li>
                            <li><a href="{% url 'shop-clothes' %}">Clothes</a></li>
                        </ul>
                    </li>
                    <li class="widget wiget-shop-category">
                        <h5 class="title">type</h5>
                        <ul>
                            {% for type in bicycle_types %}
                            <li>
                                <p><input type="checkbox"><span>{{ type }}</span></p>
                            </li>
                            {% endfor %}
                        </ul>
                    </li>
                    <li class="widget wiget-brand">
                        <h5 class="title">brand</h5>
                        <ul>
                            {% for brand in bicycle_brands %}
                            <li>
                                <p><input type="checkbox"><span>{{ brand }}</span></p>
                            </li>
                            {% endfor %}
                        </ul>
                    </li>
                    <li class="widget wiget-price">
                        <h5 class="title">price($)</h5>
                        <div id="slider-range"></div>
                        <div class="amount-cover">
                            <input type="text" id="amount-min">
                            <span>&mdash;</span>
                            <input type="text" id="amount-max">
                        </div>
                    </li>
                </ul>
                <a href="#" class="reset-filter-btn">Reset Filters</a>
            </div>
            <div class="col-12 col-lg-9 shop-cover">
                <h2 class="title">Bicycles</h2>
                <div class="shop-sort-cover">
                    <div class="sort-left">{{ bicycles|length }} items found</div>
                    <div class="sort-right">
                        <div class="sort-by">
                            <span class="sort-name">sort by:</span>
                            <select class="nice-select">
                                <option selected="selected" disabled>
                                    best selling
                                </option>
                                <option>new product</option>
                                <option>sale product</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="shop-product-cover">
                    <div class="row product-cover block">
                        {% for bicycle in bicycles %}
                        <div class="col-12 col-sm-4 prod-item-col">
                            <div class="product-item">
                                {% if bicycle.bicycle_price_new != bicycle.bicycle_price_old %}
                                    <span class="sale">SALE</span>
                                {% endif %}
                                <ul class="product-icon-top">
                                    <li><a href="#"><i class="fa fa-heart" aria-hidden="true"></i></a></li>
                                </ul>
                                <a href="{% url 'single-bicycle' bicycle.id %}" class="product-img"><img src="{{ bicycle.bicycle_image.url }}" alt="product"></a>
                                <div class="product-item-wrap">
                                    <div class="product-item-cover">
                                        <div class="price-cover">
                                            {% if bicycle.bicycle_price_new == bicycle.bicycle_price_old %}
						                        <div class="new-price">${{ bicycle.bicycle_price_new }}</div>
						                    {% else %}
						                        <div class="new-price">${{ bicycle.bicycle_price_new }}</div>
                                                <div class="old-price">${{ bicycle.bicycle_price_old }}</div>
						                    {% endif %}
                                        </div>
                                        <h6 class="prod-title">
                                            <a href="single-shop.html">
                                                {{ bicycle.bicycle_name }}
                                                <br> {{ bicycle.bicycle_type }} bike
                                            </a>
                                        </h6>
                                        <a href="{% url 'single-bicycle' bicycle.id %}" class="btn"><span>buy now</span></a>
                                    </div>
                                    <div class="prod-info">
                                        <ul class="prod-list">
                                            <li>Brand:
                                                <span>{{ bicycle.bicycle_brand }}</span>
                                            </li>
                                            <li>Type:
                                                <span>{{ bicycle.bicycle_type }}</span>
                                            </li>
                                            <li>Frame Size Available:
                                                {% for frame_size in bicycle.bicycle_frame_sizes.all %}
							                        <span>{{ frame_size }}</span>
							                    {% endfor %}
                                            </li>
                                            <li>Wheel Size Available:
                                                {% for wheel_size in bicycle.bicycle_wheel_sizes.all %}
							                        <span>{{ wheel_size }}</span>
							                    {% endfor %}
                                            </li>
                                            <li>Number of speeds:
                                                <span>{{ bicycle.bicycle_number_of_speeds }}</span>
                                            </li>
                                            <li>Manufactured:
                                                <span>{{ bicycle.bicycle_manufacturer_country}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    {% if bicycles.has_other_pages %}
                    <div class="pagination-cover">
                        <ul class="pagination">
                            {% if bicycles.has_previous %}
                            <li class="pagination-item item-prev">
                                <a href="?page={{ bicycles.previous_page_number }}">
                                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                                </a>
                            </li>
                            {% endif %}
                            {% for page in custom_range %}
                                {% if page == bicycles.number %}
                                    <li class="pagination-item active"><a href="?page={{ page }}">{{ page }}</a></li>
                                {% else %}
                                    <li class="pagination-item"><a href="?page={{ page }}">{{ page }}</a></li>
                                {% endif %}
                            {% endfor %}
                            {% if bicycles.has_next %}
                            <li class="pagination-item item-next">
                                <a href="?page={{ bicycles.next_page_number }}">
                                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                                </a>
                            </li>
                            {% endif %}
                        </ul>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>
<!--=================== SHOP END ===================-->

{% endblock %}